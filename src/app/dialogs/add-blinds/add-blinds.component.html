<h2>Add Blinds</h2>

<mat-radio-group
    aria-label="Duration"
    [(ngModel)]="filterDuration"
    (ngModelChange)="onFilterDurationChange($event)"
>
    <mat-radio-button value="0">All</mat-radio-button>
    <mat-radio-button value="10">10min</mat-radio-button>
    <mat-radio-button value="15">15min</mat-radio-button>
    <mat-radio-button value="20">20min</mat-radio-button>
    <mat-radio-button value="30">30min</mat-radio-button>
</mat-radio-group>

<form
    style="width: 800px"
    [formGroup]="form"
    (ngSubmit)="onSubmit(model)"
>
    <formly-form
        [form]="form"
        [fields]="fields"
        [options]="options"
        [model]="model"
    ></formly-form>

    <button
        mat-raised-button color="primary"
        type="submit"
        [disabled]="!form.valid"
    >
        ADD BLIND
    </button>
</form>

<h3>Players in Tournament</h3>

<ng-container *ngIf="data.tournament && data.tournament.structure.length > 0; else noBlinds;">
    <div class="scrollable-dialog-table-wrapper">
        <table class="dialog-table">
            <ng-container *ngFor="let e of data.tournament.structure">
                <tr>
                    <td class="flex align-center">
                        <span
                            class="flex-td"
                            [innerHTML]="(e | blindLevelText:false:false)"
                        ></span>
                        &nbsp;- {{ e.duration }}min
                    </td>
                    <td>
                        <i (click)="removeBlind(e.id)" class="fa fa-trash"></i>
                    </td>
                </tr>
            </ng-container>
        </table>
    </div>
</ng-container>

<ng-template #noBlinds>
    No players yet
</ng-template>
